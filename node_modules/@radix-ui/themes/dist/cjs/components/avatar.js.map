{
  "version": 3,
  "sources": ["../../../src/components/avatar.tsx"],
  "sourcesContent": ["'use client';\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport * as AvatarPrimitive from '@radix-ui/react-avatar';\nimport { avatarPropDefs } from './avatar.props.js';\nimport { extractProps, getSubtree } from '../helpers/index.js';\nimport { marginPropDefs } from '../props/index.js';\n\nimport type { ComponentPropsWithout, RemovedProps } from '../helpers/index.js';\nimport type { GetPropDefTypes, MarginProps } from '../props/index.js';\n\ninterface AvatarProps extends MarginProps, AvatarImplProps {}\nconst Avatar = React.forwardRef<AvatarImplElement, AvatarProps>((props, forwardedRef) => {\n  const { asChild, children, className, style, color, radius, ...imageProps } = extractProps(\n    props,\n    avatarPropDefs,\n    marginPropDefs\n  );\n\n  return (\n    // TODO as a rule, should we rather spread the props on root?\n    <AvatarPrimitive.Root\n      data-accent-color={color}\n      data-radius={radius}\n      className={classNames('rt-reset', 'rt-AvatarRoot', className)}\n      style={style}\n      asChild={asChild}\n    >\n      {getSubtree({ asChild, children }, <AvatarImpl ref={forwardedRef} {...imageProps} />)}\n    </AvatarPrimitive.Root>\n  );\n});\nAvatar.displayName = 'Avatar';\n\ntype AvatarImplElement = React.ElementRef<typeof AvatarPrimitive.Image>;\ntype AvatarOwnProps = GetPropDefTypes<typeof avatarPropDefs>;\n\ninterface AvatarImplProps\n  extends ComponentPropsWithout<typeof AvatarPrimitive.Image, RemovedProps>,\n    AvatarOwnProps {\n  // TODO: See if we can automate making prop defs with `required: true` non nullable\n  fallback: NonNullable<AvatarOwnProps['fallback']>;\n}\n\nconst AvatarImpl = React.forwardRef<AvatarImplElement, AvatarImplProps>(\n  ({ fallback, ...imageProps }, forwardedRef) => {\n    const [status, setStatus] = React.useState<'idle' | 'loading' | 'loaded' | 'error'>('idle');\n    return (\n      <>\n        {status === 'idle' || status === 'loading' ? <span className=\"rt-AvatarFallback\" /> : null}\n\n        {status === 'error' ? (\n          <AvatarPrimitive.Fallback\n            className={classNames('rt-AvatarFallback', {\n              'rt-one-letter': typeof fallback === 'string' && fallback.length === 1,\n              'rt-two-letters': typeof fallback === 'string' && fallback.length === 2,\n            })}\n            delayMs={0}\n          >\n            {fallback}\n          </AvatarPrimitive.Fallback>\n        ) : null}\n\n        <AvatarPrimitive.Image\n          ref={forwardedRef}\n          className=\"rt-AvatarImage\"\n          {...imageProps}\n          onLoadingStatusChange={(status) => {\n            imageProps.onLoadingStatusChange?.(status);\n            setStatus(status);\n          }}\n        />\n      </>\n    );\n  }\n);\n\nAvatarImpl.displayName = 'AvatarImpl';\n\nexport { Avatar };\nexport type { AvatarProps };\n"],
  "mappings": "ukBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,YAAAE,IAAA,eAAAC,EAAAH,GAEA,IAAAI,EAAuB,oBACvBC,EAAuB,yBACvBC,EAAiC,qCACjCC,EAA+B,6BAC/BC,EAAyC,+BACzCC,EAA+B,6BAM/B,MAAMP,EAASE,EAAM,WAA2C,CAACM,EAAOC,IAAiB,CACvF,KAAM,CAAE,QAAAC,EAAS,SAAAC,EAAU,UAAAC,EAAW,MAAAC,EAAO,MAAAC,EAAO,OAAAC,EAAQ,GAAGC,CAAW,KAAI,gBAC5ER,EACA,iBACA,gBACF,EAEA,OAEEN,EAAA,cAACE,EAAgB,KAAhB,CACC,oBAAmBU,EACnB,cAAaC,EACb,aAAW,EAAAE,SAAW,WAAY,gBAAiBL,CAAS,EAC5D,MAAOC,EACP,QAASH,MAER,cAAW,CAAE,QAAAA,EAAS,SAAAC,CAAS,EAAGT,EAAA,cAACgB,EAAA,CAAW,IAAKT,EAAe,GAAGO,EAAY,CAAE,CACtF,CAEJ,CAAC,EACDhB,EAAO,YAAc,SAYrB,MAAMkB,EAAahB,EAAM,WACvB,CAAC,CAAE,SAAAiB,EAAU,GAAGH,CAAW,EAAGP,IAAiB,CAC7C,KAAM,CAACW,EAAQC,CAAS,EAAInB,EAAM,SAAkD,MAAM,EAC1F,OACEA,EAAA,cAAAA,EAAA,cACGkB,IAAW,QAAUA,IAAW,UAAYlB,EAAA,cAAC,QAAK,UAAU,oBAAoB,EAAK,KAErFkB,IAAW,QACVlB,EAAA,cAACE,EAAgB,SAAhB,CACC,aAAW,EAAAa,SAAW,oBAAqB,CACzC,gBAAiB,OAAOE,GAAa,UAAYA,EAAS,SAAW,EACrE,iBAAkB,OAAOA,GAAa,UAAYA,EAAS,SAAW,CACxE,CAAC,EACD,QAAS,GAERA,CACH,EACE,KAEJjB,EAAA,cAACE,EAAgB,MAAhB,CACC,IAAKK,EACL,UAAU,iBACT,GAAGO,EACJ,sBAAwBI,GAAW,CACjCJ,EAAW,wBAAwBI,CAAM,EACzCC,EAAUD,CAAM,CAClB,EACF,CACF,CAEJ,CACF,EAEAF,EAAW,YAAc",
  "names": ["avatar_exports", "__export", "Avatar", "__toCommonJS", "React", "import_classnames", "AvatarPrimitive", "import_avatar_props", "import_helpers", "import_props", "props", "forwardedRef", "asChild", "children", "className", "style", "color", "radius", "imageProps", "classNames", "AvatarImpl", "fallback", "status", "setStatus"]
}
